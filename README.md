From Nim In Action (https://github.com/dom96/nim-in-action-code)
